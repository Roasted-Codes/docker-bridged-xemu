# =============================================================================
# dnsmasq - DHCP & DNS server for xemu_lan bridge network
# =============================================================================
# Makes the Docker bridge function like a home network with automatic
# IP assignment, DNS resolution, and internet access.
# =============================================================================

# Listen only on the bridge interface
interface=eth0
bind-interfaces

# ----- DHCP -----
# Hand out IPs from .100 to .200, 12 hour leases
dhcp-range=172.20.0.100,172.20.0.200,255.255.255.0,12h

# Force broadcast replies so the Xbox can receive DHCP offers before it has an IP
dhcp-broadcast

# Gateway: Docker bridge gateway (NATs to internet via host)
dhcp-option=option:router,172.20.0.1

# DNS: Point clients to this dnsmasq instance for name resolution
dhcp-option=option:dns-server,172.20.0.2

# ----- DNS -----
# Forward DNS queries to public resolvers
server=8.8.8.8
server=1.1.1.1

# Local hostnames for devices on the network
address=/xemu/172.20.0.10
address=/xlinkkai/172.20.0.20

# ----- Logging -----
log-dhcp
